"0","set.seed(1)"
"0","dataframe.resultados.1neu.soft <- data.frame(Ent_1Neu_soft = numeric(),"
"0","                                             Test_1Neu_soft = numeric())"
"0","for(i in 1:20)"
"0","{"
"0","  pacientes.1neu.softmax <- nnet( matriz.pacientes.datos.centscal[conjuntoEntrenamiento, 1:24], class.ind( matriz.pacientes.etiquetas[conjuntoEntrenamiento, 25] ) , size=1, softmax = T )"
"0","  #Una vez que lo tengo entrenado, lo que voy a hacer es calcular el error tanto en el entrenamiento como en el test de cada uno"
"0","  "
"0","  pacientes.prediccion.1neu.softmax <- predict( pacientes.1neu.softmax, matriz.pacientes.datos.centscal[conjuntoEntrenamiento, 1:24], type=""raw"" )"
"0","  head(pacientes.prediccion.1neu.softmax) # Vemos las probabilidades de pertenencia de cada valor"
"0","  "
"0","  # Ahora que los tengo todos entrenados, Determinamos cual es la máxima, es decir, la clase a la que hay que asignar los objetos"
"0","  "
"0","  pacientes.prediccion.1neu.class.softmax <- apply( pacientes.prediccion.1neu.softmax, MARGIN=1, FUN='which.is.max')"
"0","  pacientes.prediccion.1neu.class.softmax"
"0","  "
"0","  # Lo visualizo en forma de tabla para ir viendo el error"
"0","  "
"0","  table( pacientes.prediccion.1neu.class.softmax, matriz.pacientes.etiquetas[conjuntoEntrenamiento, 25] )  # Lo vemos en forma de tabla."
"0","  "
"0","  #Calculo el acierto"
"0","  "
"0","  acierto.ent.teorico.1neu.soft <- sum( diag( table( pacientes.prediccion.1neu.class.softmax, matriz.pacientes.etiquetas[conjuntoEntrenamiento, 25] ) ) )/55 # Esta cuenta nos da el índice de acierto"
"0","  "
"0","  #TEST"
"0","  "
"0","  pacientes.prediccion.test.1neu.softmax <- predict( pacientes.1neu.softmax, matriz.pacientes.datos.centscal[-conjuntoEntrenamiento, 1:24], type=""raw"" )"
"0","  pacientes.prediccion.test.1neu.softmax"
"0","  "
"0","  pacientes.prediccion.test.1neu.class.softmax <- apply( pacientes.prediccion.test.1neu.softmax, MARGIN=1, FUN='which.is.max')"
"0","  pacientes.prediccion.test.1neu.class.softmax"
"0","  "
"0","  table( pacientes.prediccion.test.1neu.class.softmax , matriz.pacientes.etiquetas[-conjuntoEntrenamiento, 25] )"
"0","  acierto.test.teorico.1neu.soft <- sum( diag( table( pacientes.prediccion.test.1neu.class.softmax, matriz.pacientes.etiquetas[-conjuntoEntrenamiento, 25] ) ) )/12"
"0","  "
"0","  dataframe.pasada <- data.frame(Ent_1Neu_soft = acierto.ent.teorico.1neu.soft,"
"0","                                 Test_1Neu_soft = acierto.test.teorico.1neu.soft)"
"0","  "
"0","  dataframe.resultados.1neu.soft <- rbind(dataframe.resultados.1neu.soft ,dataframe.pasada)"
"0","  "
"0","}"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 74.121646 
"
"1","iter  10 value 48.390893
"
"1","iter  20 value 41.857408
"
"1","iter  30 value 39.895380
"
"1","iter  40 value 39.693666
"
"1","iter  50 value 39.668612
"
"1","iter  60 value 39.665199
"
"1","iter  70 value 39.664737
"
"1","final  value 39.664699 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 71.786071 
"
"1","iter  10 value 56.668765
"
"1","iter  20 value 53.228356
"
"1","iter  30 value 52.358246
"
"1","iter  40 value 51.908066
"
"1","iter  50 value 51.790243
"
"1","iter  60 value 51.716368
"
"1","iter  70 value 51.704323
"
"1","iter  80 value 51.704212
"
"1","final  value 51.704205 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 78.797338 
"
"1","iter  10 value 53.039887
"
"1","iter  20 value 45.535320
"
"1","iter  30 value 36.218999
"
"1","iter  40 value 34.393566
"
"1","iter  50 value 34.154255
"
"1","iter  60 value 34.045105
"
"1","iter  70 value 34.016780
"
"1","final  value 34.015672 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 76.675273 
"
"1","iter  10 value 57.068986
"
"1","iter  20 value 52.208842
"
"1","iter  30 value 49.587424
"
"1","iter  40 value 48.566049
"
"1","iter  50 value 48.371806
"
"1","iter  60 value 48.337237
"
"1","iter  70 value 48.291577
"
"1","iter  80 value 48.270232
"
"1","iter  80 value 48.270232
"
"1","iter  80 value 48.270232
"
"1","final  value 48.270232 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 97.314399 
"
"1","iter  10 value 56.160778
"
"1","iter  20 value 47.414405
"
"1","iter  30 value 42.646010
"
"1","iter  40 value 40.956175
"
"1","iter  50 value 40.752283
"
"1","iter  60 value 40.726023
"
"1","iter  70 value 40.722899
"
"1","iter  80 value 40.722627
"
"1","final  value 40.722551 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 75.768969 
"
"1","iter  10 value 50.303599
"
"1","iter  20 value 47.074646
"
"1","iter  30 value 47.006416
"
"1","iter  40 value 47.004925
"
"1","final  value 47.004915 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 78.250242 
"
"1","iter  10 value 61.895749
"
"1","iter  20 value 58.166988
"
"1","iter  30 value 56.889532
"
"1","iter  40 value 56.556167
"
"1","iter  50 value 56.538098
"
"1","final  value 56.538035 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 75.410404 
"
"1","iter  10 value 49.873982
"
"1","iter  20 value 46.811595
"
"1","iter  30 value 45.437104
"
"1","iter  40 value 45.289019
"
"1","iter  50 value 45.254475
"
"1","iter  60 value 45.242263
"
"1","iter  70 value 45.240189
"
"1","iter  80 value 45.239315
"
"1","iter  90 value 45.239256
"
"1","final  value 45.239256 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 75.552259 
"
"1","iter  10 value 47.636263
"
"1","iter  20 value 43.927795
"
"1","iter  30 value 43.769932
"
"1","iter  40 value 43.769578
"
"1","iter  40 value 43.769578
"
"1","iter  40 value 43.769578
"
"1","final  value 43.769578 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 76.686937 
"
"1","iter  10 value 61.467143
"
"1","iter  20 value 49.815094
"
"1","iter  30 value 47.043297
"
"1","iter  40 value 46.791558
"
"1","iter  50 value 46.654738
"
"1","iter  60 value 46.469377
"
"1","iter  70 value 46.402834
"
"1","iter  80 value 46.389358
"
"1","iter  90 value 46.371538
"
"1","iter 100 value 46.330103
"
"1","final  value 46.330103 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 76.578356 
"
"1","iter  10 value 63.888757
"
"1","iter  20 value 56.289142
"
"1","iter  30 value 54.003945
"
"1","iter  40 value 53.751713
"
"1","iter  50 value 52.854183
"
"1","iter  60 value 51.256748
"
"1","iter  70 value 51.117731
"
"1","iter  80 value 51.100378
"
"1","iter  90 value 50.088507
"
"1","iter 100 value 49.876278
"
"1","final  value 49.876278 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 92.546479 
"
"1","iter  10 value 47.049564
"
"1","iter  20 value 41.048799
"
"1","iter  30 value 33.237176
"
"1","iter  40 value 30.983895
"
"1","iter  50 value 30.681245
"
"1","iter  60 value 30.592727
"
"1","iter  70 value 30.574601
"
"1","final  value 30.574295 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 89.646859 
"
"1","iter  10 value 56.385907
"
"1","iter  20 value 45.222642
"
"1","iter  30 value 42.797699
"
"1","iter  40 value 40.942568
"
"1","iter  50 value 40.749740
"
"1","iter  60 value 40.725677
"
"1","iter  70 value 40.723060
"
"1","iter  80 value 40.722666
"
"1","iter  90 value 40.722394
"
"1","iter 100 value 40.722175
"
"1","final  value 40.722175 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 72.635799 
"
"1","iter  10 value 48.474877
"
"1","iter  20 value 46.240767
"
"1","iter  30 value 46.039434
"
"1","iter  40 value 46.038647
"
"1","final  value 46.038646 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 95.917665 
"
"1","iter  10 value 59.217512
"
"1","iter  20 value 48.200025
"
"1","iter  30 value 43.865678
"
"1","iter  40 value 42.265465
"
"1","iter  50 value 42.022692
"
"1","iter  60 value 41.995124
"
"1","iter  70 value 41.977494
"
"1","iter  80 value 41.973965
"
"1","iter  90 value 41.973632
"
"1","iter 100 value 41.973541
"
"1","final  value 41.973541 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 89.925847 
"
"1","iter  10 value 54.131126
"
"1","iter  20 value 45.413769
"
"1","iter  30 value 43.142251
"
"1","iter  40 value 42.546548
"
"1","iter  50 value 41.667498
"
"1","iter  60 value 41.540230
"
"1","iter  70 value 41.521218
"
"1","iter  80 value 41.518187
"
"1","iter  90 value 41.518031
"
"1","final  value 41.517726 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 88.481018 
"
"1","iter  10 value 59.078626
"
"1","iter  20 value 48.310013
"
"1","iter  30 value 44.995248
"
"1","iter  40 value 44.553419
"
"1","iter  50 value 43.805080
"
"1","iter  60 value 43.624705
"
"1","iter  70 value 43.304349
"
"1","iter  80 value 43.206399
"
"1","iter  90 value 43.120489
"
"1","iter 100 value 42.929055
"
"1","final  value 42.929055 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 78.049623 
"
"1","iter  10 value 62.921503
"
"1","iter  20 value 48.914767
"
"1","iter  30 value 44.748947
"
"1","iter  40 value 42.279287
"
"1","iter  50 value 41.159822
"
"1","iter  60 value 41.103300
"
"1","iter  70 value 41.092310
"
"1","iter  80 value 41.088480
"
"1","iter  90 value 41.087979
"
"1","final  value 41.087973 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 76.540581 
"
"1","iter  10 value 53.414275
"
"1","iter  20 value 49.566991
"
"1","iter  30 value 45.931774
"
"1","iter  40 value 45.180047
"
"1","iter  50 value 44.624058
"
"1","iter  60 value 44.527693
"
"1","iter  70 value 44.493640
"
"1","iter  80 value 44.485619
"
"1","iter  90 value 44.484454
"
"1","iter 100 value 44.484356
"
"1","final  value 44.484356 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 81.401311 
"
"1","iter  10 value 52.454523
"
"1","iter  20 value 46.116500
"
"1","iter  30 value 44.767597
"
"1","iter  40 value 43.110161
"
"1","iter  50 value 41.186140
"
"1","iter  60 value 40.388393
"
"1","iter  70 value 40.109481
"
"1","iter  80 value 40.088963
"
"1","final  value 40.088666 
"
"1","converged
"
