"0","set.seed(1)"
"0","dataframe.resultados.1neu.soft <- data.frame(Ent_1Neu_soft = numeric(),"
"0","                                             Test_1Neu_soft = numeric())"
"0","for(i in 1:20)"
"0","{"
"0","  pacientes.1neu.softmax <- nnet( matriz.pacientes.datos.centscal[conjuntoEntrenamiento, 1:24], class.ind( matriz.pacientes.etiquetas[conjuntoEntrenamiento, 25] ) , size=1, softmax = T )"
"0","  #Una vez que lo tengo entrenado, lo que voy a hacer es calcular el error tanto en el entrenamiento como en el test de cada uno"
"0","  "
"0","  pacientes.prediccion.1neu.softmax <- predict( pacientes.1neu.softmax, matriz.pacientes.datos.centscal[conjuntoEntrenamiento, 1:24], type=""raw"" )"
"0","  head(pacientes.prediccion.1neu.softmax) # Vemos las probabilidades de pertenencia de cada valor"
"0","  "
"0","  # Ahora que los tengo todos entrenados, Determinamos cual es la máxima, es decir, la clase a la que hay que asignar los objetos"
"0","  "
"0","  pacientes.prediccion.1neu.class.softmax <- apply( pacientes.prediccion.1neu.softmax, MARGIN=1, FUN='which.is.max')"
"0","  pacientes.prediccion.1neu.class.softmax"
"0","  "
"0","  # Lo visualizo en forma de tabla para ir viendo el error"
"0","  "
"0","  table( pacientes.prediccion.1neu.class.softmax, matriz.pacientes.etiquetas[conjuntoEntrenamiento, 25] )  # Lo vemos en forma de tabla."
"0","  "
"0","  #Calculo el acierto"
"0","  "
"0","  acierto.ent.teorico.1neu.soft <- sum( diag( table( pacientes.prediccion.1neu.class.softmax, matriz.pacientes.etiquetas[conjuntoEntrenamiento, 25] ) ) )/55 # Esta cuenta nos da el índice de acierto"
"0","  "
"0","  #TEST"
"0","  "
"0","  pacientes.prediccion.test.1neu.softmax <- predict( pacientes.1neu.softmax, matriz.pacientes.datos.centscal[-conjuntoEntrenamiento, 1:24], type=""raw"" )"
"0","  pacientes.prediccion.test.1neu.softmax"
"0","  "
"0","  pacientes.prediccion.test.1neu.class.softmax <- apply( pacientes.prediccion.test.1neu.softmax, MARGIN=1, FUN='which.is.max')"
"0","  pacientes.prediccion.test.1neu.class.softmax"
"0","  "
"0","  table( pacientes.prediccion.test.1neu.class.softmax , matriz.pacientes.etiquetas[-conjuntoEntrenamiento, 25] )"
"0","  acierto.test.teorico.1neu.soft <- sum( diag( table( pacientes.prediccion.test.1neu.class.softmax, matriz.pacientes.etiquetas[-conjuntoEntrenamiento, 25] ) ) )/12"
"0","  "
"0","  dataframe.pasada <- data.frame(Ent_1Neu_soft = acierto.ent.teorico.1neu.soft,"
"0","                                 Test_1Neu_soft = acierto.test.teorico.1neu.soft)"
"0","  "
"0","  dataframe.resultados.1neu.soft <- rbind(dataframe.resultados.1neu.soft ,dataframe.pasada)"
"0","  "
"0","}"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 74.072592 
"
"1","iter  10 value 47.231226
"
"1","iter  20 value 45.147468
"
"1","iter  30 value 43.550077
"
"1","iter  40 value 42.920323
"
"1","iter  50 value 42.797760
"
"1","iter  60 value 42.783428
"
"1","iter  70 value 42.777687
"
"1","iter  80 value 42.776555
"
"1","final  value 42.776522 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 71.256419 
"
"1","iter  10 value 56.243224
"
"1","iter  20 value 48.416545
"
"1","iter  30 value 46.098672
"
"1","iter  40 value 45.258716
"
"1","iter  50 value 44.839908
"
"1","iter  60 value 44.764037
"
"1","iter  70 value 44.753413
"
"1","iter  80 value 44.751166
"
"1","iter  90 value 44.750903
"
"1","final  value 44.750899 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 75.590880 
"
"1","iter  10 value 47.956276
"
"1","iter  20 value 42.301862
"
"1","iter  30 value 41.074455
"
"1","iter  40 value 40.535474
"
"1","iter  50 value 40.423685
"
"1","iter  60 value 40.408045
"
"1","iter  70 value 40.404894
"
"1","final  value 40.404878 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 77.899720 
"
"1","iter  10 value 52.424524
"
"1","iter  20 value 48.488167
"
"1","iter  30 value 47.539636
"
"1","iter  40 value 47.394225
"
"1","iter  50 value 47.368216
"
"1","iter  60 value 47.361727
"
"1","iter  70 value 47.361178
"
"1","iter  80 value 47.360823
"
"1","final  value 47.360700 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 97.582439 
"
"1","iter  10 value 52.824321
"
"1","iter  20 value 43.227282
"
"1","iter  30 value 42.557339
"
"1","iter  40 value 40.495705
"
"1","iter  50 value 40.216566
"
"1","iter  60 value 40.179767
"
"1","iter  70 value 40.172486
"
"1","iter  80 value 40.170854
"
"1","final  value 40.170224 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 76.567408 
"
"1","iter  10 value 44.876491
"
"1","iter  20 value 39.091718
"
"1","iter  30 value 38.010165
"
"1","iter  40 value 35.753603
"
"1","iter  50 value 35.154509
"
"1","iter  60 value 35.078460
"
"1","iter  70 value 35.069545
"
"1","iter  80 value 35.067710
"
"1","iter  90 value 35.065521
"
"1","iter 100 value 35.065357
"
"1","final  value 35.065357 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 80.695513 
"
"1","iter  10 value 52.202889
"
"1","iter  20 value 48.764695
"
"1","iter  30 value 46.893115
"
"1","iter  40 value 46.195711
"
"1","iter  50 value 44.549738
"
"1","iter  60 value 43.678474
"
"1","iter  70 value 40.461806
"
"1","iter  80 value 40.012111
"
"1","iter  90 value 39.668532
"
"1","iter 100 value 39.651116
"
"1","final  value 39.651116 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 74.794787 
"
"1","iter  10 value 51.153540
"
"1","iter  20 value 47.931649
"
"1","iter  30 value 47.814067
"
"1","iter  40 value 47.434971
"
"1","iter  50 value 47.213822
"
"1","iter  60 value 46.307482
"
"1","iter  70 value 46.074893
"
"1","iter  80 value 43.681264
"
"1","final  value 43.679822 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 73.588820 
"
"1","iter  10 value 46.131798
"
"1","iter  20 value 40.630055
"
"1","iter  30 value 36.979238
"
"1","iter  40 value 35.408205
"
"1","iter  50 value 35.213428
"
"1","iter  60 value 35.183648
"
"1","iter  70 value 35.172839
"
"1","iter  80 value 35.172467
"
"1","iter  90 value 35.158048
"
"1","iter 100 value 34.016931
"
"1","final  value 34.016931 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 73.826023 
"
"1","iter  10 value 54.518478
"
"1","iter  20 value 45.861631
"
"1","iter  30 value 43.912883
"
"1","iter  40 value 42.764332
"
"1","iter  50 value 42.585726
"
"1","iter  60 value 42.561743
"
"1","iter  70 value 42.557542
"
"1","iter  80 value 42.555889
"
"1","iter  90 value 42.555037
"
"1","final  value 42.554998 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 77.101774 
"
"1","iter  10 value 49.401574
"
"1","iter  20 value 43.441807
"
"1","iter  30 value 39.207641
"
"1","iter  40 value 35.428378
"
"1","iter  50 value 33.796578
"
"1","iter  60 value 33.504719
"
"1","iter  70 value 33.470124
"
"1","iter  80 value 33.464758
"
"1","iter  90 value 33.460636
"
"1","iter 100 value 33.460462
"
"1","final  value 33.460462 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 92.791641 
"
"1","iter  10 value 49.566410
"
"1","iter  20 value 43.194474
"
"1","iter  30 value 41.803684
"
"1","iter  40 value 41.492588
"
"1","iter  50 value 41.433858
"
"1","iter  60 value 41.423347
"
"1","iter  70 value 41.420830
"
"1","iter  80 value 41.420280
"
"1","iter  90 value 41.419947
"
"1","final  value 41.419943 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 95.312677 
"
"1","iter  10 value 55.305272
"
"1","iter  20 value 49.142450
"
"1","iter  30 value 48.107217
"
"1","iter  40 value 47.702157
"
"1","iter  50 value 47.531430
"
"1","iter  60 value 47.391251
"
"1","iter  70 value 47.372795
"
"1","iter  80 value 47.370304
"
"1","iter  90 value 47.369235
"
"1","iter 100 value 47.368849
"
"1","final  value 47.368849 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 70.379135 
"
"1","iter  10 value 46.273963
"
"1","iter  20 value 42.507937
"
"1","iter  30 value 41.069371
"
"1","iter  40 value 40.793654
"
"1","iter  50 value 40.763799
"
"1","iter  60 value 40.756389
"
"1","iter  70 value 40.753778
"
"1","iter  80 value 40.753261
"
"1","iter  90 value 40.753061
"
"1","final  value 40.752969 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 95.275945 
"
"1","iter  10 value 56.171662
"
"1","iter  20 value 49.419747
"
"1","iter  30 value 48.114681
"
"1","iter  40 value 47.764943
"
"1","iter  50 value 47.724539
"
"1","iter  60 value 47.720775
"
"1","iter  70 value 47.720128
"
"1","iter  80 value 47.719807
"
"1","final  value 47.719636 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 93.241275 
"
"1","iter  10 value 44.799362
"
"1","iter  20 value 40.384587
"
"1","iter  30 value 39.596485
"
"1","iter  40 value 39.516182
"
"1","iter  50 value 39.504877
"
"1","iter  60 value 39.502377
"
"1","iter  70 value 39.501773
"
"1","final  value 39.501768 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 93.472911 
"
"1","iter  10 value 53.393917
"
"1","iter  20 value 48.456220
"
"1","iter  30 value 47.158435
"
"1","iter  40 value 46.941783
"
"1","iter  50 value 46.916454
"
"1","iter  60 value 46.913125
"
"1","iter  70 value 46.911873
"
"1","iter  80 value 46.911509
"
"1","iter  90 value 46.911472
"
"1","final  value 46.911435 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 76.150475 
"
"1","iter  10 value 60.195671
"
"1","iter  20 value 49.495650
"
"1","iter  30 value 44.715279
"
"1","iter  40 value 38.131762
"
"1","iter  50 value 31.582672
"
"1","iter  60 value 29.176601
"
"1","iter  70 value 28.765243
"
"1","iter  80 value 28.708866
"
"1","iter  90 value 28.688063
"
"1","iter 100 value 28.683313
"
"1","final  value 28.683313 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 77.348934 
"
"1","iter  10 value 47.117186
"
"1","iter  20 value 42.375788
"
"1","iter  30 value 39.886409
"
"1","iter  40 value 39.482699
"
"1","iter  50 value 39.431780
"
"1","iter  60 value 39.424337
"
"1","iter  70 value 39.421887
"
"1","iter  80 value 39.420908
"
"1","final  value 39.420462 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 81.568893 
"
"1","iter  10 value 48.965428
"
"1","iter  20 value 39.737374
"
"1","iter  30 value 36.456273
"
"1","iter  40 value 36.096815
"
"1","iter  50 value 36.058517
"
"1","iter  60 value 36.054038
"
"1","iter  70 value 36.053484
"
"1","iter  80 value 36.053033
"
"1","iter  90 value 36.052850
"
"1","final  value 36.052849 
"
"1","converged
"
