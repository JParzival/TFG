"0","dataframe.resultados.1neu.soft <- data.frame(Ent_1Neu_soft = numeric(),"
"0","                                             Test_1Neu_soft = numeric())"
"0","for(i in 1:20)"
"0","{"
"0","  pacientes.1neu.softmax <- nnet( matriz.pacientes.datos.centscal[conjuntoEntrenamiento, 1:24], class.ind( matriz.pacientes.etiquetas[conjuntoEntrenamiento, 25] ) , size=1, softmax = T )"
"0","  #Una vez que lo tengo entrenado, lo que voy a hacer es calcular el error tanto en el entrenamiento como en el test de cada uno"
"0","  "
"0","  pacientes.prediccion.1neu.softmax <- predict( pacientes.1neu.softmax, matriz.pacientes.datos.centscal[conjuntoEntrenamiento, 1:24], type=""raw"" )"
"0","  head(pacientes.prediccion.1neu.softmax) # Vemos las probabilidades de pertenencia de cada valor"
"0","  "
"0","  # Ahora que los tengo todos entrenados, Determinamos cual es la máxima, es decir, la clase a la que hay que asignar los objetos"
"0","  "
"0","  pacientes.prediccion.1neu.class.softmax <- apply( pacientes.prediccion.1neu.softmax, MARGIN=1, FUN='which.is.max')"
"0","  pacientes.prediccion.1neu.class.softmax"
"0","  "
"0","  # Lo visualizo en forma de tabla para ir viendo el error"
"0","  "
"0","  table( pacientes.prediccion.1neu.class.softmax, matriz.pacientes.etiquetas[conjuntoEntrenamiento, 25] )  # Lo vemos en forma de tabla."
"0","  "
"0","  #Calculo el acierto"
"0","  "
"0","  acierto.ent.teorico.1neu.soft <- sum( diag( table( pacientes.prediccion.1neu.class.softmax, matriz.pacientes.etiquetas[conjuntoEntrenamiento, 25] ) ) )/55 # Esta cuenta nos da el índice de acierto"
"0","  "
"0","  #TEST"
"0","  "
"0","  pacientes.prediccion.test.1neu.softmax <- predict( pacientes.1neu.softmax, matriz.pacientes.datos.centscal[-conjuntoEntrenamiento, 1:24], type=""raw"" )"
"0","  pacientes.prediccion.test.1neu.softmax"
"0","  "
"0","  pacientes.prediccion.test.1neu.class.softmax <- apply( pacientes.prediccion.test.1neu.softmax, MARGIN=1, FUN='which.is.max')"
"0","  pacientes.prediccion.test.1neu.class.softmax"
"0","  "
"0","  table( pacientes.prediccion.test.1neu.class.softmax , matriz.pacientes.etiquetas[-conjuntoEntrenamiento, 25] )"
"0","  acierto.test.teorico.1neu.soft <- sum( diag( table( pacientes.prediccion.test.1neu.class.softmax, matriz.pacientes.etiquetas[-conjuntoEntrenamiento, 25] ) ) )/12"
"0","  "
"0","  dataframe.pasada <- data.frame(Ent_1Neu_soft = acierto.ent.teorico.1neu.soft,"
"0","                                 Test_1Neu_soft = acierto.test.teorico.1neu.soft)"
"0","  "
"0","  dataframe.resultados.1neu.soft <- rbind(dataframe.resultados.1neu.soft ,dataframe.pasada)"
"0","  "
"0","}"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 82.639205 
"
"1","iter  10 value 48.695806
"
"1","iter  20 value 40.384964
"
"1","iter  30 value 39.393440
"
"1","iter  40 value 39.189956
"
"1","iter  50 value 39.164529
"
"1","iter  60 value 39.159030
"
"1","iter  70 value 39.157862
"
"1","final  value 39.157815 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 75.041818 
"
"1","iter  10 value 51.215914
"
"1","iter  20 value 47.387762
"
"1","iter  30 value 46.645215
"
"1","iter  40 value 46.182393
"
"1","iter  50 value 46.160428
"
"1","iter  60 value 46.150715
"
"1","iter  70 value 46.149765
"
"1","final  value 46.149008 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 75.436396 
"
"1","iter  10 value 56.661368
"
"1","iter  20 value 49.881940
"
"1","iter  30 value 47.958322
"
"1","iter  40 value 47.772624
"
"1","iter  50 value 47.275736
"
"1","iter  60 value 46.734351
"
"1","iter  70 value 43.278220
"
"1","iter  80 value 42.658280
"
"1","iter  90 value 42.523674
"
"1","iter 100 value 42.475348
"
"1","final  value 42.475348 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 74.829096 
"
"1","iter  10 value 50.026871
"
"1","iter  20 value 40.165426
"
"1","iter  30 value 37.866933
"
"1","iter  40 value 37.461000
"
"1","iter  50 value 37.395054
"
"1","iter  60 value 37.384134
"
"1","iter  70 value 37.380107
"
"1","iter  80 value 37.379748
"
"1","final  value 37.379746 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 81.142256 
"
"1","iter  10 value 49.048346
"
"1","iter  20 value 42.249827
"
"1","iter  30 value 40.743797
"
"1","iter  40 value 40.152512
"
"1","iter  50 value 40.074882
"
"1","iter  60 value 40.053921
"
"1","iter  70 value 40.040882
"
"1","iter  80 value 40.037584
"
"1","iter  90 value 40.037120
"
"1","iter 100 value 40.036988
"
"1","final  value 40.036988 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 73.289615 
"
"1","iter  10 value 54.012577
"
"1","iter  20 value 48.849121
"
"1","iter  30 value 48.015455
"
"1","iter  40 value 47.994249
"
"1","final  value 47.994191 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 77.501985 
"
"1","iter  10 value 44.822978
"
"1","iter  20 value 41.750013
"
"1","iter  30 value 40.924732
"
"1","iter  40 value 40.780376
"
"1","iter  50 value 40.764256
"
"1","iter  60 value 40.758184
"
"1","iter  70 value 40.754668
"
"1","iter  80 value 40.754316
"
"1","iter  90 value 40.754275
"
"1","final  value 40.754262 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 75.054768 
"
"1","iter  10 value 51.155050
"
"1","iter  20 value 39.811525
"
"1","iter  30 value 36.173045
"
"1","iter  40 value 33.682725
"
"1","iter  50 value 32.693394
"
"1","iter  60 value 32.578851
"
"1","iter  70 value 32.511705
"
"1","iter  80 value 31.491363
"
"1","iter  90 value 31.111981
"
"1","iter 100 value 30.985482
"
"1","final  value 30.985482 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 83.694665 
"
"1","iter  10 value 53.767189
"
"1","iter  20 value 43.888541
"
"1","iter  30 value 42.232492
"
"1","iter  40 value 41.852422
"
"1","iter  50 value 41.801713
"
"1","iter  60 value 41.798525
"
"1","iter  70 value 41.793842
"
"1","iter  80 value 41.793298
"
"1","iter  90 value 41.793233
"
"1","final  value 41.793229 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 79.358275 
"
"1","iter  10 value 45.093978
"
"1","iter  20 value 40.452076
"
"1","iter  30 value 38.925664
"
"1","iter  40 value 38.709174
"
"1","iter  50 value 38.654460
"
"1","iter  60 value 38.644943
"
"1","iter  70 value 38.643423
"
"1","iter  80 value 38.642695
"
"1","iter  80 value 38.642695
"
"1","iter  80 value 38.642695
"
"1","final  value 38.642695 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 95.468637 
"
"1","iter  10 value 53.955477
"
"1","iter  20 value 47.457380
"
"1","iter  30 value 45.754556
"
"1","iter  40 value 45.382166
"
"1","iter  50 value 45.289712
"
"1","iter  60 value 45.258315
"
"1","iter  70 value 45.250646
"
"1","final  value 45.250544 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 70.624688 
"
"1","iter  10 value 56.844601
"
"1","iter  20 value 51.850321
"
"1","iter  30 value 50.379526
"
"1","iter  40 value 50.365704
"
"1","final  value 50.365635 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 88.463620 
"
"1","iter  10 value 60.282025
"
"1","iter  20 value 50.460881
"
"1","iter  30 value 49.461612
"
"1","iter  40 value 49.397509
"
"1","iter  50 value 49.371933
"
"1","iter  60 value 49.363525
"
"1","iter  70 value 49.362627
"
"1","final  value 49.362574 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 73.794719 
"
"1","iter  10 value 51.136782
"
"1","iter  20 value 45.394647
"
"1","iter  30 value 43.444864
"
"1","iter  40 value 43.025474
"
"1","iter  50 value 42.970304
"
"1","iter  60 value 42.953589
"
"1","iter  70 value 42.950765
"
"1","iter  80 value 42.949860
"
"1","iter  90 value 42.944263
"
"1","iter 100 value 42.937210
"
"1","final  value 42.937210 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 78.347785 
"
"1","iter  10 value 49.895124
"
"1","iter  20 value 43.632781
"
"1","iter  30 value 41.337308
"
"1","iter  40 value 40.683339
"
"1","iter  50 value 40.672055
"
"1","iter  60 value 40.636028
"
"1","iter  70 value 40.624708
"
"1","iter  80 value 40.623809
"
"1","iter  90 value 40.623488
"
"1","iter 100 value 40.622277
"
"1","final  value 40.622277 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 78.375384 
"
"1","iter  10 value 48.392992
"
"1","iter  20 value 41.527965
"
"1","iter  30 value 40.283604
"
"1","iter  40 value 38.073524
"
"1","iter  50 value 36.421343
"
"1","iter  60 value 35.396933
"
"1","iter  70 value 35.340029
"
"1","iter  80 value 35.252337
"
"1","iter  90 value 35.235587
"
"1","iter 100 value 35.221328
"
"1","final  value 35.221328 
"
"1","stopped after 100 iterations
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 72.414635 
"
"1","iter  10 value 53.093405
"
"1","iter  20 value 46.419252
"
"1","iter  30 value 43.917884
"
"1","iter  40 value 43.538011
"
"1","iter  50 value 43.479794
"
"1","iter  60 value 43.472651
"
"1","iter  70 value 43.470054
"
"1","iter  80 value 43.469730
"
"1","iter  90 value 43.469253
"
"1","final  value 43.469252 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 88.889368 
"
"1","iter  10 value 57.693824
"
"1","iter  20 value 44.857770
"
"1","iter  30 value 38.329114
"
"1","iter  40 value 35.459025
"
"1","iter  50 value 34.439392
"
"1","iter  60 value 33.995256
"
"1","iter  70 value 33.338797
"
"1","iter  80 value 33.330993
"
"1","iter  90 value 33.272947
"
"1","final  value 33.272946 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 79.953074 
"
"1","iter  10 value 51.259758
"
"1","iter  20 value 46.077940
"
"1","iter  30 value 44.005463
"
"1","iter  40 value 43.252303
"
"1","iter  50 value 43.167391
"
"1","iter  60 value 43.154763
"
"1","iter  70 value 43.151790
"
"1","iter  80 value 43.151482
"
"1","final  value 43.151476 
"
"1","converged
"
"1","# weights: "
"1"," "
"1","33"
"1","
"
"1","initial  value 102.917602 
"
"1","iter  10 value 53.137382
"
"1","iter  20 value 50.565860
"
"1","iter  30 value 49.656223
"
"1","iter  40 value 49.509974
"
"1","iter  50 value 49.491719
"
"1","iter  60 value 49.489473
"
"1","final  value 49.489349 
"
"1","converged
"
